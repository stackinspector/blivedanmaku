# blivedanmaku

基于Deno的B站直播间弹幕记录工具

这个项目目前是本检票员自用的（包括老弟的直播间弹幕记录），虽然说设计良好（这一点我倒是很自信，老强迫症了），但是没有写注释和使用说明，commit信息也没有确定的格式，而且还用到了我自己写的、同样是没有注释和说明的工具库`baseutil`（通过gitee raw直接import），所以只能说有些东西只有检票员自己知道是什么意思。不过只是我自己用不得不说有点可惜，万一有人想使用呢，所以这里给出一些提示，剩下的自己看源码吧，大多数输入输出格式相关的都在`schema.ts`里，很好懂的（被飞起一脚踹出门外）

入口文件是`act.ts`（适用于我的所有Deno项目），构建时只需要`deno bundle`这个文件即可，注意带上import map：`--unstable --importmap=import-map.json`。运行目标代码需要`--allow-net`和`--allow-write`，还需要提供以下参数：

第一个参数是客户端版本，目前最新的版本号大概是`2.5.10`；第二个是0或1，选择是否使用带key的服务器；第三个也是0或1，选择是否在命令行输出接收和发送的数据；第四个是房间号，应该是必须得完整的，不能短号；第五个是输出的文件，会输出`{input}_meta`（所有接收和发送的原始数据）和`{input}_data`（解析后的数据）。